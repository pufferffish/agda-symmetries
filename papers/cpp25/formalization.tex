% !TEX root = cpp25-sort.tex

\section{Formalization}
\label{sec:formalization}

In this section, we discuss some aspects of the formalization.
The paper uses informal type theoretic language,
and is accessible without understanding any details of the formalization.
However, the formalization is done in Cubical Agda, which has a few differences and a few
shortcomings due to proof engineering issues.

For simplicity we omitted type levels in the paper,
but our formalization has many verbose uses of universe levels due to Agda's universe polymorphism.
Similarly, h-levels were restricted to sets in the paper, but the formalization is parameterized in many places for any
h-level (to facilitate future generalizations).
The free algebra framework currently only works with sets.
Due to issues of regularlity, certain computations only hold propositionally,
and the formalization requires proving auxiliary $\beta$ and $\eta$ computation rules in somce places.
We also note the axioms of sorting in the formalization are named differently from the paper.
We give a table of the Agda module names and their corresponding sections in the paper
in~\cref{tab:formalised-results}.

\begin{table*}
    \centering
    \begin{tabular}{lll}
        \hline
        \textbf{Module}                                 & \textbf{Description}   & \textbf{Reference}                         \\ \hline
        \texttt{index}                                  & Index of all files     & N/A                                        \\
        \texttt{Cubical.Structures.Free}                & Free algebras          & \cref{sec:universal-algebra:free-algebras} \\
        \texttt{Cubical.Structures.Sig}                 & Algebraic signatures   & \cref{algebra:signature}                   \\
        \texttt{Cubical.Structures.Str}                 & Algebraic structures   & \cref{algebra:struct}                      \\
        \texttt{Cubical.Structures.Eq}                  & Equational theories    & \cref{sec:universal-algebra:equations}     \\
        \texttt{Cubical.Structures.Tree}                & Trees                  & \cref{algebra:tree}                        \\
        \texttt{Cubical.Structures.Set.Mon.List}        & Lists                  & \cref{mon:lists}                           \\
        \texttt{Cubical.Structures.Set.Mon.Array}       & Arrays                 & \cref{mon:array}                           \\
        \texttt{Cubical.Structures.Set.CMon.QFreeMon}   & Quotiented-free monoid & \cref{cmon:qfreemon}                       \\
        \texttt{Cubical.Structures.Set.CMon.PList}      & Quotiented-list        & \cref{cmon:plist}                          \\
        \texttt{Cubical.Structures.Set.CMon.SList}      & Swapped-list           & \cref{cmon:slist}                          \\
        \texttt{Cubical.Structures.Set.CMon.Bag}        & Bag                    & \cref{cmon:bag}                            \\
        \texttt{Cubical.Structures.Set.CMon.SList.Sort} & Sort functions         & \cref{sec:application}                     \\
        \hline
    \end{tabular}
    \caption{Status of formalised results}
    \label{tab:formalised-results}
\end{table*}
